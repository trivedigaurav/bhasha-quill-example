{"version":3,"sources":["js/plugins.js"],"names":["length","method","noop","methods","console","window","quill","Quill","modules","toolbar","scrollingContainer","placeholder","theme","Delta","import","change","cursorPos","lastPos","lastWord","processWord","currWord","currentWord","charAt","substring","log","getCurrentText","maxLookbehind","startPos","getText","getCurrentWord","currText","split","pop","on","delta","range","getSelection","index"],"mappings":";CACC,WAYQA,IAXHC,IAAAA,EACAC,EAAO,aACPC,EAAU,CACZ,SAAU,QAAS,QAAS,QAAS,MAAO,SAAU,QACtD,YAAa,QAAS,iBAAkB,WAAY,OAAQ,MAC5D,eAAgB,UAAW,aAAc,QAAS,OAAQ,UAC1D,WAAY,cAAe,YAAa,QAAS,QAE/CH,EAASG,EAAQH,OACjBI,EAAWC,OAAOD,QAAUC,OAAOD,SAAW,GAE3CJ,KAIAI,EAHLH,EAASE,EAAQH,MAIfI,EAAQH,GAAUC,GAjBvB,GAyBD,IAAII,EAAQ,IAAIC,MAAM,mBAAoB,CACxCC,QAAS,CACPC,QAAS,sBAEXC,mBAAoB,uBACpBC,YAAa,qBACbC,MAAO,SAILC,EAAQN,MAAMO,OAAO,SAGrBC,EAAS,IAAIF,EAEbG,EAAY,EACZC,EAAU,EACVC,EAAW,KAgBf,SAASC,EAAYH,EAAWI,GAC1BJ,EAAUC,GAAW,EACvBG,EAAWF,EAAWG,YAAYC,OAAOF,EAASpB,OAAO,GAEnDiB,EAAQD,GAAa,IAC3BI,EAAWF,EAASK,UAAU,EAAGL,EAASlB,OAAS,IAGrDI,QAAQoB,IAAIJ,GAEZF,EAAWE,EAGb,SAASK,IACDC,IACFC,EAAWX,EADO,GAGfV,OADPqB,EAAWA,EAAW,EAAIA,EAAW,EAC9BrB,EAAMsB,QACXD,EACAX,EAAYW,GAIhB,SAASE,IAMJT,GALHU,SAAWL,IAGXL,SAAWU,SAASC,MAAM,SAASC,MAEhCZ,SACMA,OAAAA,SA5CXd,EAAM2B,GAAG,cAAe,SAASC,GAGzBC,IAAAA,EAAQ7B,EAAM8B,eACpBpB,EAAYmB,EAAME,MAGlBjB,SAAWS,IAERX,GAAYE,UAAYA,UACzBD,EAAYH,EAAWI","file":"plugins.433e3ef8.js","sourceRoot":"..","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\n(function() {\n  var method;\n  var noop = function () {};\n  var methods = [\n    'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n    'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n    'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n    'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\n  ];\n  var length = methods.length;\n  var console = (window.console = window.console || {});\n\n  while (length--) {\n    method = methods[length];\n\n    // Only stub undefined methods.\n    if (!console[method]) {\n      console[method] = noop;\n    }\n  }\n}());\n\n// Place any jQuery/helper plugins in here.\n\n//Quill\nvar quill = new Quill('#quill-container', {\n  modules: {\n    toolbar: '#toolbar-container'\n  },\n  scrollingContainer: '#scrolling-container', \n  placeholder: 'Compose an epic...',\n  theme: 'snow'\n});\n\n// Store accumulated changes\nvar Delta = Quill.import('delta');\n\n// Store accumulated changes\nvar change = new Delta();\n\nvar cursorPos = 0;\nvar lastPos = 0;\nvar lastWord = null;\n\nquill.on('text-change', function(delta) {\n  // console.log(delta);\n\n  const range = quill.getSelection();\n  cursorPos = range.index;\n\n  // console.log(getCurrentWord());\n  currWord = getCurrentWord();\n\n  if(lastWord != currWord && currWord){\n    processWord(cursorPos, currWord);\n  }\n});\n\nfunction processWord(cursorPos, currWord){\n  if (cursorPos-lastPos == 1){\n    currWord = lastWord + currentWord.charAt(currWord.length-1);\n  }\n  else if(lastPos-cursorPos == 1){\n    currWord = lastWord.substring(0, lastWord.length - 1);\n  }\n\n  console.log(currWord);\n\n  lastWord = currWord;\n}\n\nfunction getCurrentText(){\n  const maxLookbehind = 50;\n  var startPos = cursorPos - maxLookbehind;\n  startPos = startPos > 0 ? startPos : 0;\n  return quill.getText(\n    startPos,\n    cursorPos - startPos\n  )\n}\n\nfunction getCurrentWord(){\n  currText = getCurrentText()\n  // console.log(currText);\n  // console.log(currText.split(/(\\s+)/));\n  currWord = currText.split(/(\\s+)/).pop();\n\n  if(currWord){\n    return currWord;\n  }\n\n}"]}